/*!
 * jQuery QueueSlider v0.1.0
 * http://danielkorte.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * March 2012
 */
(function(a){var b=function(b,c){function n(){a("li",j).each(function(b,c){a(this).attr("class","slide-"+(b+1))})}function o(a){f+=a,f<1?f=k:f>k&&(f=1)}function p(){var a=0,b=f-1,c=(l-h[b])/-2;for(a=0;a<b;a++)c+=h[a];return c}function q(){var b=0;a("li",j).each(function(c,d){if(m.offScreen){var e=a(this),f=e.width(),g=l-f;b+=h[c]=f+(g>0?g:0),e.css("width",h[c]+"px")}else b+=h[c]=a(this).width()}),j.css("width",b)}function r(){var b={duration:m.transitionSpeed,queue:!1};if(f===k){var c=a("li.slide-1",j);h.push(h.shift()),j.css("left",j.position().left+c.width()).append(c),n(),f--,g--}else if(f===1){var d=a("li:last-child",j);h.unshift(h.pop()),j.css("left",j.position().left+ -d.width()).prepend(d),n(),f=2,g=3}m.fade!==-1&&(a("li.slide-"+f,j).animate({opacity:1},b),a("li.slide-"+g,j).animate({opacity:m.fade},b)),b.complete=function(){e=!1},j.animate({left:-p()},b),g=f}var d=!1,e=!1,f=2,g=2,h=[],i=a(b),j=a("ul.queue",i),k=a("img",j).size(),l=a(window).width(),m=a.extend({},a.fn.queueSlider.defaults,c);a(window).resize(function(){e=!0,l=a(window).width(),m.offScreen&&q(),j.css("left",-p()),e=!1}),k>2?(q(),h.unshift(h.pop()),j.css("left",-p()).prepend(a("li:last-child",j)),n(),m.fade!==-1&&a("li",j).not(".slide-2").css("opacity",m.fade),m.buttons&&(i.append('<button class="previous" rel="-1">'+m.previous+'</button><button class="next" rel="1">'+m.next+"</button>"),a("button",i).click(function(){return e||(e=!0,o(parseInt(a(this).attr("rel"),10)),clearInterval(d),r()),!1})),m.speed!==0&&(d=setInterval(function(){e||(e=!0,o(m.direction),r())},m.speed))):i.removeClass("queueslider")};a.fn.queueSlider=function(c){return this.each(function(d,e){var f=a(this);if(f.data("queueslider"))return f.data("queueslider");var g=new b(this,c);f.data("queueslider",g)})},a.fn.queueSlider.defaults={fade:.3,transitionSpeed:700,speed:7e3,direction:1,offScreen:!1,buttons:!0,previous:"Previous",next:"Next"}})(jQuery)